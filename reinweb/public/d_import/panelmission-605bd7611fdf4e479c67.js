(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{502:function(e,t,n){},504:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"panelMissionRoot",staticClass:"panel_mission"},[n("CacheDataArea",{ref:"cacheData",attrs:{imageManifest:this.imageManifest}}),e._v(" "),n("div",{ref:"panelMissionWrapper",staticClass:"panel_mission-wrapper"},[e.webviewMissionData.pages?n("PanelStage",{class:{"is-complete":e.isComplete},attrs:{isComplete:e.isComplete,bgParts:e.webviewMissionData.pages.length>0?e.webviewMissionData.pages[e.currentPage-1].bgParts:[],panelMissionId:e.webviewMissionData.webviewMissionId||1,currentPageNum:e.currentPage||0}}):e._e(),e._v(" "),n("PanelUi",{class:{"panel_mission-ui":!0,"is-complete":e.isComplete},attrs:{isComplete:e.isComplete,missionData:e.webviewMissionData}}),e._v(" "),e.webviewMissionData.pages&&!e.getCurrentPageData.isComplete?n("PanelContent",{directives:[{name:"show",rawName:"v-show",value:!e.isPlayCardAlignAnim,expression:"!isPlayCardAlignAnim"}],attrs:{panels:e.webviewMissionData.pages.length>0?e.webviewMissionData.pages[e.currentPage-1].panels:[]}}):e._e()],1),e._v(" "),this.isPreventOn()?n("div",{staticClass:"prevent-area",on:{click:function(e){e.preventDefault()}}}):e._e(),e._v(" "),e.isShowCommonModal?n("ModalCommon",{attrs:{modalInfo:e.modalInfo}}):e._e(),e._v(" "),e.isShowPanelDetailModal?n("ModalPanelDetail",{attrs:{panelData:e.modalInfo}}):e._e(),e._v(" "),e.isShowQuizModal?n("ModalQuiz",{attrs:{modalInfo:e.modalInfo}}):e._e(),e._v(" "),e.isShowGuideModal?n("ModalGuide",{attrs:{modalInfo:e.modalInfo}}):e._e(),e._v(" "),e.isShowRewardModal?n("ModalReward",{attrs:{modalInfo:e.modalInfo}}):e._e(),e._v(" "),e.isOpenCompleteModal?n("ModalCompleteReward",{attrs:{modalInfo:e.completeRewardData}}):e._e(),e._v(" "),e.isShowErrorModal?n("ModalError",{attrs:{modalInfo:e.modalInfo}}):e._e(),e._v(" "),n("Toast",{class:{"is-open":e.isShowToast},attrs:{message:e.toastInfo.message}})],1)};a._withStripped=!0;var i=n(13),s=n.n(i),r=(n(502),function(){var e=this,t=this,n=t.$createElement,a=t._self._c||n;return a("div",{ref:"panelMissionStage",staticClass:"panel_mission-stage"},[t._v("\n   "+t._s()+"\n  "),t.getCurrentPageData.isComplete?a("div",{staticClass:"panel_mission-stage-wrapper"},[t._v("\n    "+t._s()+"\n    "),a("div",{staticClass:"card_full-wrapper is-complete"},[a("div",{staticClass:"card_full-inner is-complete"},[a("img",{staticClass:"card_full is-complete",attrs:{src:""+this.fullCardPath()+t.getCurrentPageData.imageFileName}})])]),t._v("\n    "+t._s()+"\n    "),a("div",{staticClass:"flavor_text-wrapper is-complete"},[a("div",{staticClass:"flavor_text-inner is-complete",domProps:{innerHTML:t._s(t.getCurrentPageData.compFlavorText)}}),t._v(" "),a("div",{staticClass:"flavor-under_button-content is-complete"},[a("CommonButton",{staticClass:"dl-btn",attrs:{btnType:"typeD-s",width:108},on:{click:function(t){return e.onClickDLHandler(t)}}},[a("img",{attrs:{src:"/images/common/icon/download_icon.png",width:"10px"}}),t._v(" "+t._s(t.$t("wm.cmn.button.dl")))]),t._v(" "),t.currentPage<t.getPagesLength?a("CommonButton",{attrs:{btnType:"typeA",width:88,clickSound:"ok"},on:{click:function(t){return e.onClickNextButtonHandler(t)}}},[t._v(t._s(t.$t("wm.cmn.button.next")))]):a("CommonButton",{attrs:{btnType:"typeB",width:88,clickSound:"cancel"},on:{click:function(t){return e.onClicCloseButtonHandler(t)}}},[t._v(t._s(t.$t("wm.cmn.button.close")))])],1)])]):a("div",{class:["panel_mission-stage-wrapper"]},[a("div",{class:["bg_parts-wrapper",t.isPlayCardAlignAnim?"is-play-anim":"",t.isTransitionResetter?"is-tr-reset":""]},t._l(t.bgParts,function(e){return a("PanelBgParts",{directives:[{name:"show",rawName:"v-show",value:t.bgParts.length>0,expression:"bgParts.length > 0"}],key:e.index,staticClass:"bg_panel",attrs:{bgPartData:e,isPlayCardAlignAnim:t.isPlayCardAlignAnim,panelMissionId:t.panelMissionId,currentPageNum:t.currentPageNum}})}),1),t._v("\n    "+t._s()+"\n    "),a("div",{class:{"card_full-wrapper":!0,"is-open":t.isPlayCardAlignAnim,"is-tr-reset":t.isTransitionResetter}},[a("div",{class:{"card_full-inner":!0,"is-open":t.isPlayCardAlignAnim,"is-tr-reset":t.isTransitionResetter}},[a("img",{class:{card_full:!0,"is-open":t.isPlayCardAlignAnim},attrs:{src:""+this.fullCardPath()+t.getCurrentPageData.imageFileName}}),t._v(" "),a("div",{class:{"inner-flash":!0,"is-open":t.isPlayCardAlignAnim}})])]),t._v("\n    "+t._s()+"\n    "),a("div",{class:{"flavor_text-wrapper":!0,"is-open":t.isPlayCardAlignAnim,"is-tr-reset":t.isTransitionResetter}},[a("div",{class:{"flavor_text-inner":!0,"is-open":t.isPlayCardAlignAnim,"is-tr-reset":t.isTransitionResetter},domProps:{innerHTML:t._s(t.completeRewardData.compFlavorText)}}),t._v(" "),a("div",{ref:"lastAnimDom",class:{"flavor-under_button-content":!0,"is-open":t.isPlayCardAlignAnim,"is-tr-reset":t.isTransitionResetter}},[a("CommonButton",{staticClass:"dl-btn",attrs:{btnType:"typeD-s",width:108},on:{click:function(t){return e.onClickDLHandler(t)}}},[a("img",{attrs:{src:"/images/common/icon/download_icon.png",width:"10px"}}),t._v(" "+t._s(t.$t("wm.cmn.button.dl")))]),t._v(" "),t.currentPage<t.getPagesLength?a("CommonButton",{attrs:{btnType:"typeA",width:88,clickSound:"ok"},on:{click:function(t){return e.onClickNextButtonHandler(t)}}},[t._v(t._s(t.$t("wm.cmn.button.next")))]):a("CommonButton",{attrs:{btnType:"typeB",width:88,clickSound:"cancel"},on:{click:function(t){return e.onClicCloseButtonHandler(t)}}},[t._v(t._s(t.$t("wm.cmn.button.close")))])],1)])])])});r._withStripped=!0;var o=n(470),l=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"bgPart",class:{"panel_mission-bg_parts":!0,"is-tr-reset":this.isTransitionResetter,first:this.transitionDelayClass(this.bgPartData.transform.moveType),second:!this.transitionDelayClass(this.bgPartData.transform.moveType)},style:this.applyWrapperXStyle(this.$props.isPlayCardAlignAnim,this.$props.bgPartData)},[t("div",{class:{"bg_parts-middle":!0,"is-tr-reset":this.isTransitionResetter,first:!this.transitionDelayClass(this.bgPartData.transform.moveType),second:this.transitionDelayClass(this.bgPartData.transform.moveType)},style:this.applyWrapperYStyle(this.$props.isPlayCardAlignAnim,this.$props.bgPartData)},[t("div",{class:{"bg_parts-inner":!0,"is-tr-reset":this.isTransitionResetter},style:this.applyInnerStyle(this.$props.isPlayCardAlignAnim,this.$props.bgPartData,this.$props.panelMissionId,this.$props.currentPageNum)})])])};l._withStripped=!0;var c=n(35),u={props:{bgPartData:{type:Object},isPlayCardAlignAnim:{type:Boolean,default:!1},panelMissionId:{type:Number},currentPageNum:{type:Number}},computed:Object(o.c)(["isTransitionResetter"]),mounted:function(){},methods:{applyWrapperXStyle:function(e,t){if(t.transform){if(e)return"transform: translateX(0%)";var n=(t.bgPartsIndex-1)%9,a=100*(t.transform.moveBeforeX-n-1);return"transform: translateX(".concat(a,"%)")}},applyWrapperYStyle:function(e,t){if(t.transform){if(e)return"transform: translateY(0%)";var n=Math.ceil(t.bgPartsIndex/9),a=100*(t.transform.moveBeforeY-n);return"transform: translateY(".concat(a,"%)")}},applyInnerStyle:function(e,t){if(t.transform){var n=Object(c.c)(this.$store.state,this.$route);return e?"background-image: url(".concat(n+t.imagePath,")"):"background-image: url(".concat(n+t.imagePath,"); transform: rotate(").concat(t.transform.rotate,"deg);")}},transitionDelayClass:function(e){return 0==e}}},p=n(2),d=Object(p.a)(u,l,[],!1,null,null,null);d.options.__file="src/components/webview_mission/panel_mission/PanelMissionStageBgParts.vue";var m=d.exports,v=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"btn",class:this.setBtnClass(e.btnType,e.isActive),style:e.setStyle(e.width),on:{touchend:e.touchDownHandler,mousedown:e.touchDownHandler,click:e.onClickHandler}},[e._t("default")],2)};v._withStripped=!0;var h=n(503);function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var w=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.audioList={},this.isLoaded=!1,this.loadCount=0}var t,n,a;return t=e,(n=[{key:"setAudio",value:function(e,t){this.setVolume(t);for(var n=0;n<e.length;n++)this.load(e[n])}},{key:"setVolume",value:function(e){this.volume=e}},{key:"getVolume",value:function(){return this.volume}},{key:"play",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0!=this.volume){var n=this.audioList[e];n.volume(this.volume),0==t?n.play():setTimeout(function(){n.play()},t)}}},{key:"stop",value:function(e){this.audioList[e].stop()}},{key:"pause",value:function(e){this.audioList[e].pause()}},{key:"currentTime",value:function(e,t){this.audioList[e].seek(t)}},{key:"load",value:function(e){var t=this;if(0==this.volume)return new Promise(function(n){return n(t.audioList[e.name])});Object.prototype.hasOwnProperty.call(this.audioList,e.name)||(this.audioList[e.name]=new h.Howl({src:[e.path]}));var n=this.audioList[e.name];return"loaded"==n.state()?new Promise(function(e){return e(n)}):new Promise(function(e){n.once("load",function(){e(n)})})}}])&&f(t.prototype,n),a&&f(t,a),e}()),g={props:{eventType:{type:String,default:"click"},btnType:{type:String,default:"typeA"},isActive:{type:Boolean,default:!0},deferredTime:{type:Number,default:0},preventTime:{type:Number,default:1e3},width:{type:Number,default:0},clickSound:{type:String,default:null},option:{type:Object}},data:function(){return{stopEvent:!1,isTouching:!1,isPrevent:!1,tId:0}},methods:{onClickHandler:function(e){var t=this;this.$props.isActive&&(this.$data.isPrevent||(this.$data.isPrevent=!0,setTimeout(function(){t.$data.isPrevent=!1},this.$props.preventTime),0==this.$props.deferredTime?this.$emit(this.$props.eventType,{event:e,option:this.$props.option}):this.$data.stopEvent||(this.$data.stopEvent=!0,this.$emit("beforeClick",{event:e,option:this.$props.option}),setTimeout(function(){t.$emit(t.$props.eventType,{event:e,option:t.$props.option}),t.$data.stopEvent=!1},this.$props.deferredTime))))},setBtnClass:function(e,t){return"common_button-2 ".concat(e," ").concat(t?"is-active":"no-active"," ").concat(this.$data.isTouching?"on-touch":""," is-").concat(Object(c.b)())},setStyle:function(e){if(0!=e)return"width: ".concat(e,"px;")},touchDownHandler:function(e){var t=this;if(!this.$data.isTouching){if(this.$props.clickSound&&w.play(this.$props.clickSound),this.$data.isTouching=!0,!this.$props.isActive)return this.$emit("clickNoActive"),void setTimeout(function(){t.$data.isTouching=!1},400);this.$refs.btn&&(this.$refs.btn.addEventListener("transitionend",n.bind(this)),clearTimeout(this.$data.tId),this.$data.tId=setTimeout(n.bind(this),600))}function n(e){this.$data.isTouching=!1,clearTimeout(this.$data.tId),this.$refs.btn.removeEventListener("transitionend",n.bind(this))}}}},_=Object(p.a)(g,v,[],!1,null,null,null);_.options.__file="src/components/common/CommonButton.vue";var b=_.exports,y=n(8),P=n(15);function C(e,t,n,a,i,s,r){try{var o=e[s](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,i)}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach(function(t){D(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={components:{PanelBgParts:m,CommonButton:b},props:{bgParts:{type:Array},isComplete:{type:Boolean,default:!1},panelMissionId:{type:Number},currentPageNum:{type:Number}},computed:A(A({},Object(o.c)(["isPlayCardAlignAnim","completeRewardData","isTransitionResetter","currentPage"])),Object(o.b)(["getCurrentPageData","getPagesLength"])),created:function(){},mounted:function(){var e=this;this.$refs.lastAnimDom&&this.$refs.lastAnimDom.addEventListener("transitionend",function(t){!e.$store.getters.getCurrentPageData.isComplete&&e.$store.state.isPlayCardAlignAnim&&(e.$store.dispatch("stopCardAlignAnimAction"),e.getMissionData(e.$route.params.missionId))})},data:function(){return{newWebviewMissionData:{}}},methods:{fullCardPath:function(){return Object(c.c)(this.$store.state,this.$route)},onClickDLHandler:function(e){location.href=y.a.WEBVIEW_MISSION_WALL_PAPER_DL(this.$store.state.webviewMissionData.webviewPanelMissionId,this.$store.state.currentPage)},onClickNextButtonHandler:function(e){var t=this;this.$store.dispatch("transitionResetterAction"),"webviewMissionId"in this.$data.newWebviewMissionData?this.$store.dispatch("setWebviewMissionData",this.$data.newWebviewMissionData):this.getMissionData(this.$route.params.missionId).then(function(e){t.$data.newWebviewMissionData=e.data.data,t.$store.dispatch("setWebviewMissionData",t.$data.newWebviewMissionData)}).catch(function(e){location.reload()}),this.$store.state.isPlayCardAlignAnim&&this.$store.dispatch("stopCardAlignAnimAction"),this.$store.state.currentPage<this.$store.state.webviewMissionData.pages.length&&this.$store.dispatch("updateCurrentPage",this.$store.state.currentPage+1)},onClicCloseButtonHandler:function(e){location.href=y.a.CLOSE_WEBVIEW_WINDOW},getMissionData:function(e){var t,n=this;return(t=regeneratorRuntime.mark(function t(){var a,i,r,o,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!n.$route.query.serverAddress){t.next=13;break}return(a=P.a.createCommonRequest(n)).webviewMissionId=e,i=P.a.createHeader(),r=P.a.getDomain(n),t.next=8,s.a.post(r+y.a.PANEL_MISSION_API,JSON.stringify(a),{headers:i});case 8:return o=t.sent,n.$data.newWebviewMissionData=o.data.data,t.abrupt("return",o);case 13:t.next=20;break;case 16:return l=t.sent,n.$data.newWebviewMissionData=l.data.data,t.abrupt("return",l);case 20:t.next=26;break;case 22:t.prev=22,t.t0=t.catch(0),n.$store.dispatch("errorModalAction",{value:{error:t.t0,message:"get panel mission error"},isOpen:!0});case 26:case"end":return t.stop()}},t,null,[[0,22]])}),function(){var e=this,n=arguments;return new Promise(function(a,i){var s=t.apply(e,n);function r(e){C(s,a,i,r,o,"next",e)}function o(e){C(s,a,i,r,o,"throw",e)}r(void 0)})})()}}},M=Object(p.a)(O,r,[],!1,null,null,null);M.options.__file="src/components/webview_mission/panel_mission/PanelMissionStage.vue";var k=M.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel_mission-ui"},[n("header",[n("div",{staticClass:"header-left_content"},[n("CommonButton",{staticClass:"webview-close_button",attrs:{deferredTime:10,btnType:"type-page_back-square",eventType:"clickBtn",clickSound:"cancel"},on:{clickBtn:function(t){return e.onWebviewCloseBtnHandler(t)}}}),e._v(" "),n("h1",[e._v(e._s(e.missionData.eventTitle))])],1),e._v(" "),n("div",{staticClass:"header-right_content"},[n("div",{staticClass:"stripe-line"}),e._v(" "),n("CommonButton",{staticClass:"play_guide-btn",attrs:{deferredTime:10,btnType:"typeD-s",eventType:"clickBtn",isActive:!this.isShowModal,clickSound:"appear"},on:{clickBtn:function(t){return e.onClickPlayGuideHandler(t)}}},[e._v("i")]),e._v(" "),n("div",{staticClass:"event_termm-content"},[e._v("\n        "+e._s()+"\n        "),n("div",{staticClass:"event_term-title"},[e._v(e._s(e.$t("wm.cmn.term")))]),e._v(" "),n("div",{staticClass:"event_term-date"},[e._v(e._s(e.moment(e.missionData.startDate))+" - "+e._s(e.moment(e.missionData.endDate)))])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.getPagesLength>1,expression:"getPagesLength > 1"}],staticClass:"page-nation"},[n("CommonButton",{attrs:{isActive:this.isPrevBtnActive(),deferredTime:10,btnType:"typeD-s",eventType:"clickBtn",clickSound:this.isPrevBtnActive()?"ok":"cancel"},on:{clickBtn:function(t){return e.onClickPrevPageHandler(t)}}},[n("span",{staticClass:"page_arrow"},[e._v("◀︎")])]),e._v(" "),n("div",{staticClass:"page_counter"},[e._v("\n          "+e._s(this.currentPage)+"/"+e._s(e.missionData.pages?e.missionData.pages.length:1)+"\n        ")]),e._v(" "),n("CommonButton",{attrs:{isActive:this.isNextBtnActive(),deferredTime:10,btnType:"typeD-s",eventType:"clickBtn",clickSound:this.isNextBtnActive()?"ok":"cancel"},on:{clickNoActive:e.onClickNoActiveNextPageHandler,clickBtn:function(t){return e.onClickNextPageHandler(t)}}},[n("span",{staticClass:"page_arrow"},[e._v("▶︎")])])],1)],1)])])};T._withStripped=!0;var x=n(57);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){B(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j={components:{CommonButton:b},props:{missionData:{type:Object,default:{}}},data:function(){return{isComplete:!1}},computed:S(S({},Object(o.c)(["webviewMissionData","currentPage","compPageProgress","isShowModal","isPlayPanelAnimNum","isPlayCardAlignAnim"])),Object(o.b)(["getPagesLength"])),methods:{onWebviewCloseBtnHandler:function(e){location.href=y.a.GOTO_INFORMATION},onClickPlayGuideHandler:function(e){this.$store.dispatch("guideModalAction",{value:{},isOpen:!0})},isPrevBtnActive:function(){var e=this,t=this.webviewMissionData.pages;return!!t&&(!(t.length<=1)&&(e.currentPage>1&&!e.isShowModal&&-1==e.isPlayPanelAnimNum&&!e.isPlayCardAlignAnim))},isNextBtnActive:function(){var e=this,t=this.webviewMissionData.pages;return!!t&&(!(t.length<=1)&&(e.currentPage<=e.compPageProgress&&!e.isShowModal&&-1==e.isPlayPanelAnimNum&&!e.isPlayCardAlignAnim))},onClickPrevPageHandler:function(e){this.$store.dispatch("transitionResetterAction"),this.isPlayCardAlignAnim&&this.$store.dispatch("stopCardAlignAnimAction"),this.currentPage>1&&this.$store.dispatch("updateCurrentPage",this.currentPage-1)},onClickNextPageHandler:function(e){this.$store.dispatch("transitionResetterAction"),this.isPlayCardAlignAnim&&this.$store.dispatch("stopCardAlignAnimAction"),this.currentPage<this.webviewMissionData.pages.length&&this.$store.dispatch("updateCurrentPage",this.currentPage+1)},onClickNoActiveNextPageHandler:function(e){this.currentPage<this.getPagesLength&&this.$store.dispatch("toastAction",{value:{},isOpen:!0,message:this.$i18n.tc("wm.toast.noClearSheet")})},moment:function(e){return x.a.format(this.$i18n,new Date(e))}}},N=Object(p.a)(j,T,[],!1,null,null,null);N.options.__file="src/components/webview_mission/panel_mission/PanelMissionUi.vue";var R=N.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel_mission-panel_content"},e._l(e.panels,function(t,a){return n("Panel",{key:a,class:{"len-9":9==e.panels.length,"len-16":16==e.panels.length,"is-open":3==t.panelMissionProgressStatusType},attrs:{panelData:t,index:a+1,isTermOver:e.isTermOver(),isMissionOpen:e.isMissionOpen()}})}),1)};E._withStripped=!0;var H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel_mission-panel"},[n("div",{class:{"panel-wrapper":!0,"is-opend":3==e.panelData.panelMissionProgressStatusType,"is-open_anim":e.isPlayPanelAnimNum==e.panelData.positionId}},[n("div",{staticClass:"panel-title"},[e._v(e._s(e.panelData.title))]),e._v(" "),n("div",{staticClass:"panel-reward"},[n("span",{staticClass:"hack-ios_line_break"},[e._v(e._s(e.panelData.reward.rewardName+" × "+e.panelData.reward.rewardCount))])]),e._v(" "),n("div",{staticClass:"panel-middle-content"},[n("div",{staticClass:"panel-progress"},[n("PanelMissionProgressBar",{attrs:{width:100,widthUnit:"%",height:3,numerator:e.panelData.numerator,denominator:e.panelData.denominator}}),e._v(" "),n("div",{staticClass:"panel-progress_num"},[e._v("\n          "+e._s()+"\n          "),n("span",[e._v(e._s(e.$t("wm.cmn.lvAchieve")))]),n("span",[e._v(e._s(Math.min(Number(e.panelData.numerator),Number(e.panelData.denominator)))+"/"+e._s(e.panelData.denominator))])])],1),e._v(" "),n("div",{staticClass:"panel-btn"},[e.isShowCharangeBtn(e.panelData.panelMissionProgressStatusType)?n("CommonButton",{class:{"is-tr-reset":e.isTransitionResetter},attrs:{btnType:"typeD-s",eventType:"charengeBtn",option:{index:e.panelData.positionId},clickSound:e.isActiveCharangeBtn()?"appear":"lock",isActive:e.isActiveCharangeBtn()},on:{charengeBtn:e.onCharengeBtnClickHandler,clickNoActive:e.onNoActiveCharangeBtnClickHandler}},[e._v("\n          "+e._s()+"\n          "+e._s(e.$t("wm.cmn.button.description"))+"\n        ")]):e.isShowRewardBtn(e.panelData.panelMissionProgressStatusType)?n("CommonButton",{class:{"is-tr-reset":e.isTransitionResetter},attrs:{btnType:"typeC-s",eventType:"getReward",option:{panelData:e.panelData},clickSound:"receive",isActive:!e.isShowModal&&-1==e.isPlayPanelAnimNum&&!e.isPlayingAnimPanelFlavorText},on:{getReward:e.onGetRewardBtnClickHandler}},[e._v("\n          "+e._s()+"\n          "+e._s(e.$t("wm.cmn.button.receipt"))+"\n        ")]):e._e()],1)])]),e._v(" "),n("div",{class:this.setFlavorTextClass()},[n("p",[e._v(e._s(e.panelData.flavorText))])]),e._v(" "),e.isPlayPanelAnimNum==e.panelData.positionId?n("div",{staticClass:"panel-get_panel_crest"}):e._e()])};H._withStripped=!0;var L=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"panel-progress_bar",style:this.parentStyles},[t("div",{staticClass:"panel-progress_bar_fill",style:this.fillStyles})])};L._withStripped=!0;var W={props:{width:{type:Number,default:1},height:{type:Number,default:1},numerator:{type:Number,default:0},denominator:{type:Number,default:1},widthUnit:{type:String,default:"px"}},computed:{parentStyles:function(){return{"--width":this.$props.width+this.$props.widthUnit,"--height":this.$props.height+"px"}},fillStyles:function(){var e=Number(this.$props.numerator),t=Number(this.$props.denominator);return{"--width":Math.min(e,t)/t*100+"%","--height":"100%"}}},created:function(){},methods:{}},q=Object(p.a)(W,L,[],!1,null,null,null);q.options.__file="src/components/webview_mission/panel_mission/PanelMissionProgressBar.vue";var z=q.exports;function F(e,t,n,a,i,s,r){try{var o=e[s](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,i)}function G(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var s=e.apply(t,n);function r(e){F(s,a,i,r,o,"next",e)}function o(e){F(s,a,i,r,o,"throw",e)}r(void 0)})}}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q={components:{CommonButton:b,PanelMissionProgressBar:z},props:{panelData:{},isMissionOpen:!1,isTermOver:!0,index:0},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach(function(t){J(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},Object(o.c)(["isPlayPanelAnimNum","isShowModal","webviewMissionData","currentPage","isTransitionResetter","isPlayingAnimPanelFlavorText"])),methods:{isShowCharangeBtn:function(e){return!this.isShowRewardBtn(e)},isActiveCharangeBtn:function(){return!this.isShowModal&&-1==this.isPlayPanelAnimNum&&this.$props.isMissionOpen&&!this.$props.isTermOver&&9!=this.$props.panelData.panelMissionProgressStatusType&&!this.isPlayingAnimPanelFlavorText},isShowRewardBtn:function(e){return 2==e||3==e},onCharengeBtnClickHandler:function(e){var t=this.$props.panelData.link?this.$props.panelData.link.domainType:null;if(!this.isShowModal&&-1==this.isPlayPanelAnimNum)switch(t){case 26:this.$store.dispatch("quizModalAction",{value:this.$props.panelData,isOpen:!0});break;default:this.$store.dispatch("panelDetailModalAction",{value:this.$props.panelData,isOpen:!0})}},onNoActiveCharangeBtnClickHandler:function(e){if(this.$props.isTermOver)this.$store.dispatch("toastAction",{value:{},isOpen:!0,message:this.$i18n.$t("wm.toast.outOfTerm")});else{var t=this.webviewMissionData.pages[this.currentPage-2];t&&t.isComplete||1==this.currentPage?this.$store.dispatch("toastAction",{value:{},isOpen:!0,message:"".concat(this.$props.panelData.lockText)}):this.$store.dispatch("toastAction",{value:{},isOpen:!0,message:this.$i18n.tc("wm.toast.noBeforeSheetCompMessage")})}},onGetRewardBtnClickHandler:function(e){var t=this;return G(regeneratorRuntime.mark(function n(){var a,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.isShowModal||-1!=t.isPlayPanelAnimNum){n.next=8;break}return e.option.panelData,a=t.webviewMissionData,i={webviewMissionId:a.webviewMissionId,webviewPanelMissionId:a.webviewPanelMissionId,page:t.currentPage,panelGroupId:e.option.panelData.panelGroupId,positionId:e.option.panelData.positionId},n.next=7,t.getJson(y.a.PANEL_MISSION_GET_REWARD_API,i).then(function(n){var a=n.data.data;if(a.panelData=e.option.panelData,t.$store.dispatch("rewardModalAction",{value:a,isOpen:!0}),a.isComplete){var i="".concat(Object(c.c)(t.$store.state,t.$route)).concat(a.pageData.imageFileName);Object(c.f)(i),a.cardFullPath=i,w.load({name:"sheetcomplete",path:"/audio/se_ui_panel_sheetcomplete.wav"}),t.$store.dispatch("updateCompPageProgress",t.currentPage),t.$store.dispatch("completeRewardDataAction",a.pageData)}return a}).catch(function(e){});case 7:n.sent;case 8:case"end":return n.stop()}},n)}))()},getJson:function(e,t){var n=this;return G(regeneratorRuntime.mark(function a(){var i,r,o,l;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!n.$route.query.serverAddress){a.next=11;break}return t.commonRequest=P.a.createCommonRequest(n).commonRequest,i=P.a.createHeader(),r=P.a.getDomain(n),a.next=7,s.a.post(r+e,JSON.stringify(t),{headers:i});case 7:return o=a.sent,a.abrupt("return",o);case 11:a.next=17;break;case 15:return l=a.sent,a.abrupt("return",l);case 17:a.next=23;break;case 19:a.prev=19,a.t0=a.catch(0),n.$store.dispatch("errorModalAction",{value:{error:a.t0,message:"getReward error",panelData:n.$props.panelData},isOpen:!0});case 23:case"end":return a.stop()}},a,null,[[0,19]])}))()},setFlavorTextClass:function(){return"panel-flavor_text ".concat(3==this.panelData.panelMissionProgressStatusType?"is-opend":""," ").concat(this.isPlayPanelAnimNum==this.panelData.positionId?"is-open_anim":""," p").concat(this.index)}}},U=Object(p.a)(Q,H,[],!1,null,null,null);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach(function(t){Z(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}U.options.__file="src/components/webview_mission/panel_mission/PanelMissionPanel.vue";var K={components:{Panel:U.exports},conputed:X(X({},Object(o.c)(["webviewMissionData","currentPage"])),Object(o.b)(["getCurrentPageData"])),props:{panels:{type:Array}},methods:{isMissionOpen:function(){return 1==this.$store.state.currentPage||!!this.$store.state.webviewMissionData.pages[this.$store.state.currentPage-2].isComplete},isTermOver:function(){return this.$store.getters.getCurrentPageData.isTermOver}}},ee=Object(p.a)(K,E,[],!1,null,null,null);ee.options.__file="src/components/webview_mission/panel_mission/PanelMissionPanelContent.vue";var te=ee.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  "+e._s()+"\n  "),n("Modal",{attrs:{classNames:["modal-panel_mission","modal-panel_detail",this.isThereAreConditions()?"":"is-short"],title:this.$i18n.tc("wm.modal.panelDetail.title"),data:e.panelData,buttons:this.setButtons(e.panelData)}},[n("h3",[e._v(e._s(e.panelData.longTitle))]),e._v(" "),n("div",{staticClass:"panel_detail-middle-content"},[e._v("\n      "+e._s()+"\n      "),n("div",{staticClass:"panel-reward"},[n("span",{staticClass:"hack-ios_line_break"},[e._v(e._s(e.$t("wm.modal.panelDetail.p1")))]),n("span",[e._v(e._s(e.panelData.reward.rewardName+" × "+e.panelData.reward.rewardCount))])]),e._v(" "),n("div",{staticClass:"panel-progress"},[n("ProggresBar",{attrs:{width:100,widthUnit:"%",height:3,numerator:e.panelData.numerator,denominator:e.panelData.denominator}}),e._v(" "),n("div",{staticClass:"panel-progress_num"},[e._v("\n          "+e._s()+"\n          "),n("span",[e._v(e._s(e.$t("wm.modal.panelDetail.p2")))]),n("span",[e._v(e._s(Math.min(0|e.panelData.numerator,0|e.panelData.denominator))+"/"+e._s(e.panelData.denominator))])])],1)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isThereAreConditions(),expression:"isThereAreConditions()"}],staticClass:"conditions-content"},[e._v("\n      "+e._s()+"\n      "),n("h4",[e._v(e._s(e.$t("wm.modal.panelDetail.p3")))]),e._v(" "),n("div",{staticClass:"modal-conditions-wrapper"},[n("perfect-scrollbar",{ref:"scrollArea",staticClass:"modal-conditions-list"},[n("ul",e._l(e.panelData.conditions,function(t){return n("li",{key:t.index},[n("p",[e._v(e._s(t))])])}),0)])],1)])])],1)};ne._withStripped=!0;var ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"outer",staticClass:"modal-outer"},[n("div",{ref:"wrapper",class:this.setClass(e.classNames)},[n("div",{staticClass:"modal-wrapper"},[n("h2",[e._v(e._s(e.title))]),e._v(" "),n("div",{staticClass:"modal-body"},[n("div",[e._t("default")],2)])]),e._v(" "),e.buttons.length>0?n("div",{class:{"modal-button_area":!0,"no-active":!this.isActiveBtn}},e._l(e.buttons,function(t){return n("CommonButton",{key:t.index,attrs:{deferredTime:t.deferredTime||1e3,btnType:t.btnType||"typeA",eventType:"clickBtn",clickSound:t.clickSound,isActive:!t.isActive||t.isActive},on:{clickBtn:function(n){return e.onClickHandler(n,t)},beforeClick:function(n){return e.onBeforeClickHandler(n,t)}}},[e._v(e._s(t.text))])}),1):e._e()])])};ae._withStripped=!0;var ie={components:{CommonButton:b},props:{data:{type:Object,default:{}},classNames:{type:Array,default:[]},title:{type:String},buttons:{type:Array,default:[]}},data:function(){return{isActiveBtn:!1}},mounted:function(){var e=this;setTimeout(function(){e.$refs.outer.classList.add("is-open"),e.$refs.wrapper.classList.add("is-open")},10),setTimeout(function(){e.$data.isActiveBtn=!0},500)},methods:{setClass:function(e){return"webview_mission-modal "+e.join(" ")},onClickHandler:function(e,t){t.click()},onBeforeClickHandler:function(e,t){t.isClose&&(this.$refs.outer.classList.remove("is-open"),this.$refs.wrapper.classList.remove("is-open"))}}},se=Object(p.a)(ie,ae,[],!1,null,null,null);se.options.__file="src/components/webview_mission/modal/Modal.vue";var re=se.exports,oe=n(21),le={components:{Modal:re,ProggresBar:z,PerfectScrollbar:oe.PerfectScrollbar},props:{panelData:{type:Object,default:{}}},mounted:function(){this.$refs.scrollArea.update()},methods:{onCloseBtnClickHandler:function(e){this.$store.dispatch("panelDetailModalAction",{value:{},isOpen:!1})},onCharengeBtnClickHandler:function(e){var t=this.$props.panelData.link.domainType,n=this.$props.panelData.link.domainId;switch(t){case 21:break;default:location.href=y.a.WEBVIEW_MISSION_MOVE_CLIENT(t,n)}},setButtons:function(e){var t=[{btnType:"typeB",eventType:"closeModal",click:this.onCloseBtnClickHandler,text:this.$i18n.tc("wm.cmn.button.close"),isClose:!0,deferredTime:500,clickSound:"cancel"}];return e.link&&t.push({btnType:"typeA",eventType:"charenge",click:this.onCharengeBtnClickHandler,text:this.$i18n.tc("wm.cmn.button.charange"),deferredTime:10,clickSound:"appear"}),t},isThereAreConditions:function(){var e=this.$props.panelData;return e.conditions&&e.conditions.length>0}}},ce=Object(p.a)(le,ne,[],!1,null,null,null);ce.options.__file="src/components/webview_mission/modal/ModalPanelDetail.vue";var ue=ce.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  "+e._s()+"\n  "),n("Modal",{attrs:{classNames:["modal-panel_mission","modal-quiz"],title:this.$i18n.tc("wm.modal.quiz.title"),data:e.modalInfo,buttons:[{btnType:"typeB",eventType:"closeModal",click:e.onCloseBtnClickHandler,text:this.$i18n.tc("wm.cmn.button.close"),isClose:!0,deferredTime:500,clickSound:"cancel"},{btnType:"typeA",eventType:"charenge",click:e.onAnswerBtnClickHandler,text:this.$i18n.tc("wm.cmn.button.answer"),deferredTime:10,isActive:e.isAnsewrBtnActive}]}},[n("div",{staticClass:"quiz_detail"},[n("div",{staticClass:"title_wrapper"},[n("h3",{domProps:{innerHTML:e._s(e.questionText)}})]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.answerForm.answerPlace,expression:"answerForm.answerPlace"}],ref:"answerPlace",staticClass:"text-input",attrs:{type:"text"},domProps:{value:e.answerForm.answerPlace},on:{input:function(t){t.target.composing||e.$set(e.answerForm,"answerPlace",t.target.value)}}}),e._v(" "),n("div",{staticClass:"notice-s text-red",domProps:{innerHTML:e._s(e.descriptionText)}})])])],1)};pe._withStripped=!0;var de=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"wrapper",staticClass:"webview_mission-toast"},[t("h2",{domProps:{innerHTML:this._s(this.message)}})])};de._withStripped=!0;var me={components:{},props:{message:{type:String,default:""}},created:function(){},mounted:function(){},methods:{}},ve=Object(p.a)(me,de,[],!1,null,null,null);ve.options.__file="src/components/webview_mission/toast/Toast.vue";var he=ve.exports;function fe(e,t,n,a,i,s,r){try{var o=e[s](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,i)}function we(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var s=e.apply(t,n);function r(e){fe(s,a,i,r,o,"next",e)}function o(e){fe(s,a,i,r,o,"throw",e)}r(void 0)})}}var ge={data:function(){return{answerForm:{answerPlace:""},questionText:"",descriptionText:"",isAnsewrBtnActive:!0}},components:{Modal:re,Toast:he},props:{modalInfo:{type:Object,default:{}}},created:function(){var e=we(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getQuizJson().then(function(e){t.$data.questionText=e.data.question,t.$data.descriptionText=e.data.description});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{onCloseBtnClickHandler:function(e){this.$store.dispatch("quizModalAction",{value:{},isOpen:!1})},onAnswerBtnClickHandler:function(e){var t=this;return we(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$data.isAnsewrBtnActive){e.next=2;break}return e.abrupt("return");case 2:if(""!=t.$refs.answerPlace.value){e.next=6;break}return t.$store.dispatch("toastAction",{value:{},isOpen:!0,message:t.$i18n.tc("wm.toast.quizNoInput")}),w.play("quizincorrect"),e.abrupt("return");case 6:return t.$data.isAnsewrBtnActive=!1,setTimeout(function(){t.$data.isAnsewrBtnActive=!0},3e3),e.next=10,t.getAnswerJson(t.$refs.answerPlace.value).then(function(e){e.data.isCorrect?(t.$store.dispatch("quizModalAction",{value:t.$props.modalInfo,isCorrect:!0,isOpen:!1}),t.$store.dispatch("toastAction",{value:{},isOpen:!0,message:'<img class="toast-icon" src="/images/common/icon/quiz_correct.png">'.concat(t.$i18n.tc("wm.toast.quizCorrect"))}),w.play("quizcorrect")):(t.$store.dispatch("toastAction",{value:{},isOpen:!0,message:'<img class="toast-icon" src="/images/common/icon/quiz_incorrect.png">'.concat(t.$i18n.tc("wm.toast.quizIncorrect"))}),w.play("quizincorrect"))});case 10:case"end":return e.stop()}},e)}))()},getQuizJson:function(){var e=this;return we(regeneratorRuntime.mark(function t(){var n,a,i,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],a=[],t.prev=2,!e.$route.query.serverAddress){t.next=19;break}return(a=P.a.createCommonRequest(e)).userIdString=a.commonRequest.userIdString,i=P.a.createHeader(),r=P.a.getDomain(e),a.webviewMissionId=e.$store.state.webviewMissionData.webviewMissionId,a.webviewPanelMissionId=e.$store.state.webviewMissionData.webviewPanelMissionId,a.page=e.$store.state.currentPage,a.panelGroupId=e.$props.modalInfo.panelGroupId,a.positionId=e.$props.modalInfo.positionId,t.next=15,s.a.post(r+y.a.GET_QUIZ_URL,JSON.stringify(a),{headers:i});case 15:return n=t.sent,t.abrupt("return",n.data);case 19:t.next=25;break;case 23:return o=t.sent,t.abrupt("return",o.data);case 25:t.next=32;break;case 27:return t.prev=27,t.t0=t.catch(2),e.$store.dispatch("quizModalAction",{value:{},isOpen:!1}),e.$store.dispatch("errorModalAction",{value:{error:t.t0,message:"getQuiz error"},isOpen:!0}),t.abrupt("return",null);case 32:case"end":return t.stop()}},t,null,[[2,27]])}))()},getAnswerJson:function(e){var t=this;return we(regeneratorRuntime.mark(function n(){var a,i,r,o,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=[],i=[],n.prev=2,!t.$route.query.serverAddress){n.next=20;break}return(i=P.a.createCommonRequest(t)).userIdString=i.commonRequest.userIdString,r=P.a.createHeader(),o=P.a.getDomain(t),i.webviewMissionId=t.$store.state.webviewMissionData.webviewMissionId,i.webviewPanelMissionId=t.$store.state.webviewMissionData.webviewPanelMissionId,i.page=t.$store.state.currentPage,i.panelGroupId=t.$props.modalInfo.panelGroupId,i.positionId=t.$props.modalInfo.positionId,i.word=e,n.next=16,s.a.post(o+y.a.ANSWER_QUIZ_URL,JSON.stringify(i),{headers:r});case 16:return a=n.sent,n.abrupt("return",a.data);case 20:n.next=26;break;case 24:return l=n.sent,n.abrupt("return",l.data);case 26:n.next=33;break;case 28:return n.prev=28,n.t0=n.catch(2),t.$store.dispatch("errorModalAction",{value:{error:n.t0,message:"getAnswerQuiz error"},isOpen:!0}),n.abrupt("return",null);case 33:case"end":return n.stop()}},n,null,[[2,28]])}))()}}},_e=Object(p.a)(ge,pe,[],!1,null,null,null);_e.options.__file="src/components/webview_mission/modal/ModalQuiz.vue";var be=_e.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Modal",{attrs:{classNames:["modal-panel_mission","wide","modal-play_guid"],title:this.$i18n.tc("wm.modal.playGuide.title"),data:e.modalInfo,buttons:[{btnType:"typeB",eventType:"closeModal",click:e.onCloseBtnClickHandler,text:this.$i18n.tc("wm.cmn.button.close"),isClose:!0,deferredTime:500,clickSound:"cancel"}]}},[n("perfect-scrollbar",{ref:"guideContent",staticClass:"guide_area blade_information-details_area"},[this.isDevMode?n("section",[n("p",[e._v("デバッグ用に表示中 ※バグあった場合wrikeチケットにこちらを貼り付けて欲しいです。")]),e._v(" "),n("textarea",{ref:"textArea",attrs:{cols:"40",rows:"10"}}),e._v(" "),n("button",{ref:"copy"},[e._v("↑ all copy")]),e._v(" "),n("button",{ref:"urlCopy"},[e._v("urlのみcopy")]),e._v(" "),n("button",{ref:"allPageOpen"},[e._v("全シート見る")]),e._v(" "),n("button",{ref:"compAnim"},[e._v("コンプアニメ")]),e._v(" "),n("select",{ref:"selectVolume"},[n("option",{attrs:{value:"0"}},[e._v("0")]),e._v(" "),n("option",{attrs:{value:"0.1"}},[e._v("0.1")]),e._v(" "),n("option",{attrs:{value:"0.5",selected:""}},[e._v("0.5")]),e._v(" "),n("option",{attrs:{value:"1"}},[e._v("1")])]),e._v(" "),n("button",{ref:"setVolume"},[e._v("←音量保存")])]):e._e(),e._v(" "),n("div",{staticClass:"blade_information-details-body",domProps:{innerHTML:e._s(e.htmlBody)}})])],1)],1)};function Pe(e,t,n,a,i,s,r){try{var o=e[s](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,i)}ye._withStripped=!0;var Ce={components:{Modal:re,PerfectScrollbar:oe.PerfectScrollbar},props:{modalInfo:{type:Object,default:{}},visiblityCloseButton:{type:Boolean,default:!0}},data:function(){return{isDevMode:!1,htmlBody:""}},mounted:function(){},created:function(){var e,t=this;return(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("/static/".concat(t.$route.params.lang,"/webview_mission/playguide_").concat(t.$store.state.webviewMissionData.webviewMissionId,".html")).then(function(e){t.$data.htmlBody=e.data}).catch(function(e){t.$data.htmlBody="<section>".concat(t.$i18n.tc("wm.modal.playGuide.p1"),"<br>").concat(e,"</section>")});case 2:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(a,i){var s=e.apply(t,n);function r(e){Pe(s,a,i,r,o,"next",e)}function o(e){Pe(s,a,i,r,o,"throw",e)}r(void 0)})})()},methods:{onCloseBtnClickHandler:function(e){this.$store.dispatch("guideModalAction",{value:{},isOpen:!1})},preventEvent:function(e){e.preventDefault()},scrollhandler:function(){this.$data.scTimer||(this.$data.scTimer=setTimeout(function(e){e.$data.scY=e.$refs.details_content.$el.scrollTop,clearTimeout(e.$data.scTimer),e.$data.scTimer=0},100,this))},onClickPageTopHandler:function(){this.$refs.details_content.$el.scrollTo({top:0,behavior:"smooth"})},repaint:function(){var e=this;this.$refs.details_content.$el.scrollTo({top:0}),setTimeout(function(){e.$refs.details_content_wrapper.classList.add("show")},200)}}},$e=Object(p.a)(Ce,ye,[],!1,null,null,null);$e.options.__file="src/components/webview_mission/modal/ModalGuide.vue";var Ae=$e.exports,De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  "+e._s()+"\n  "),n("Modal",{attrs:{classNames:["modal-panel_mission","modal-error","center"],title:this.$i18n.tc("wm.modal.error.title"),data:e.modalInfo,buttons:[{btnType:"typeB",eventType:"closeModal",click:e.onCloseBtnClickHandler,text:this.$i18n.tc("wm.cmn.button.close"),isClose:!0,deferredTime:500,clickSound:"cancel"}]}},[n("div",[e._v("\n      "+e._s(this.$data.message)+"\n    ")]),e._v(" "),n("div",[e._v("\n      "+e._s(this.writeError())+"\n    ")]),e._v(" "),n("br"),n("br"),n("br")])],1)};De._withStripped=!0;var Oe={components:{Modal:re},props:{modalInfo:{type:Object,default:{}}},data:function(){return{message:this.$i18n.tc("wm.modal.error.cmn"),closeAction:function(){location.href=y.a.CLOSE_WEBVIEW_WINDOW}}},mounted:function(){var e=this;switch(this.$props.modalInfo.error.response.status){case 401:case 500:case 501:this.message=this.$i18n.tc("wm.modal.error.e401"),this.$data.closeAction=function(){location.href=y.a.CLOSE_WEBVIEW_WINDOW}}if(this.$props.modalInfo.error.response&&this.$props.modalInfo.error.response.data&&this.$props.modalInfo.error.response.data.commonResponse)switch(this.$props.modalInfo.error.response.data.commonResponse.messageCode){case 1e5:case 100001:case 290001:this.message=this.$i18n.tc("wm.modal.error.e100000"),this.$data.closeAction=function(){location.href=y.a.CLOSE_WEBVIEW_WINDOW};break;case 292012:case 292013:case 292014:this.message=this.$i18n.tc("wm.modal.error.e292012"),this.$data.closeAction=function(){location.reload()};break;case 292015:this.message=this.$i18n.tc("wm.modal.error.e292015"),this.$data.closeAction=function(){location.reload()};break;case 292016:this.message=this.$i18n.tc("wm.modal.error.e292016");var t=this.$store.state.modalInfo.panelData.positionId;this.$data.closeAction=function(){e.$store.dispatch("showOpenPanelAction",{panelData:{positionId:t},isComplete:e.$store.getters.getCurrentPageData.isComplete})};break;case 199999:default:this.message=this.$i18n.tc("wm.modal.error.e199999"),this.$data.closeAction=function(){location.href=y.a.CLOSE_WEBVIEW_WINDOW}}},methods:{onCloseBtnClickHandler:function(e){this.$store.dispatch("errorModalAction",{value:{},isOpen:!1}),this.$data.closeAction(),this.$data.closeAction=function(){}},writeError:function(){return""}}},Me=Object(p.a)(Oe,De,[],!1,null,null,null);Me.options.__file="src/components/webview_mission/modal/ModalError.vue";var ke=Me.exports,Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  "+e._s()+"\n  "),n("Modal",{attrs:{classNames:["modal-panel_mission","modal-reward"],title:this.$i18n.tc("wm.modal.reward.title"),data:e.modalInfo,buttons:[{btnType:"typeB",eventType:"closeModal",click:e.onCloseBtnClickHandler,text:this.$i18n.tc("wm.cmn.button.close"),isClose:!0,deferredTime:500}]}},[e.modalInfo.reward?n("div",{staticClass:"reward_image-area"},[n("img",{attrs:{src:""+e.setRewardDir(e.modalInfo.reward.rewardType)+e.modalInfo.reward.rewardImageFileName}})]):e._e(),e._v(" "),n("div",{staticClass:"get_reward_text"},[e._v("\n      "+e._s()+"\n      "+e._s(e.modalInfo.reward.rewardName+" × "+e.modalInfo.reward.rewardCount)+e._s(e.$t("wm.modal.reward.p1"))+"\n    ")]),e._v(" "),n("div",{staticClass:"notice-s text-red"},[e._v("\n      "+e._s()+"\n      "+e._s(e.$t("wm.modal.reward.p2"))+"\n    ")])])],1)};Te._withStripped=!0;var xe={components:{Modal:re},props:{modalInfo:{type:Object,default:{}}},methods:{onCloseBtnClickHandler:function(e){this.$store.dispatch("showOpenPanelAction",{panelData:this.$props.modalInfo.panelData,isComplete:this.$props.modalInfo.isComplete}),this.$store.dispatch("rewardModalAction",{value:{},isOpen:!1}),w.play("panelopen")},getLang:function(){return this.$route.params.lang},setRewardDir:function(e){return Object(c.d)(this.$route,e)}}},Ie=Object(p.a)(xe,Te,[],!1,null,null,null);Ie.options.__file="src/components/webview_mission/modal/ModalReward.vue";var Se=Ie.exports,Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  "+e._s()+"\n  "),n("Modal",{attrs:{classNames:["modal-panel_mission","modal-reward","all-complete","ls-1"],title:this.$i18n.tc("wm.modal.compReward.title"),data:e.modalInfo,buttons:[{btnType:"typeB",eventType:"closeModal",click:e.onCloseBtnClickHandler,text:this.$i18n.tc("wm.cmn.button.close"),isClose:!0,deferredTime:500,clickSound:"cancel"}]}},[e.modalInfo.rewardList?n("div",{staticClass:"reward_image-area"},e._l(e.modalInfo.rewardList,function(t){return n("img",{key:t.index,attrs:{src:"/images/"+e.getLang()+"/operations/thumbnail/possession/"+e.setConvertDigit(t.rewardType,2)+"/"+t.rewardImageFileName}})}),0):e._e(),e._v(" "),e.modalInfo.rewardList&&1==e.modalInfo.rewardList.length?n("div",{staticClass:"get_reward_text"},[e._v("\n      "+e._s()+"\n      "+e._s(e.modalInfo.rewardList[0].rewardName+" × "+e.modalInfo.rewardList[0].rewardCount)+e._s(e.$t("wm.modal.compReward.p1"))+"\n    ")]):e.modalInfo.rewardList&&e.modalInfo.rewardList.length>1?n("div",{staticClass:"get_reward_text"},[e._v("\n      "+e._s()+"\n      "+e._s(e.$t("wm.modal.compReward.p2"))+"\n    ")]):e._e(),e._v(" "),n("div",{staticClass:"notice-s text-red"},[e._v("\n      "+e._s()+"\n      "+e._s(e.$t("wm.modal.compReward.p3"))+"\n    ")])])],1)};Be._withStripped=!0;var je={components:{Modal:re},props:{modalInfo:{type:Object,default:{}}},created:function(){w.play("receive",200)},methods:{onCloseBtnClickHandler:function(e){this.$store.dispatch("openCompleteModalAction",{value:{},isOpen:!1}),w.play("sheetcomplete",500)},getLang:function(){return this.$route.params.lang},setConvertDigit:function(e,t){return Object(c.a)(e,t)}}},Ne=Object(p.a)(je,Be,[],!1,null,null,null);Ne.options.__file="src/components/webview_mission/modal/ModalCompleteReward.vue";var Re=Ne.exports,Ee=function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("Modal",{attrs:{classNames:["modal-panel_mission","modal-common","center"],title:this.modalInfo.title,data:this.modalInfo,buttons:[{btnType:"typeB",eventType:"closeModal",click:this.onCloseBtnClickHandler,text:this.$i18n.tc("wm.cmn.button.close"),isClose:!0,deferredTime:500,clickSound:"cancel"}]}},[t("div",[this._v("\n    "+this._s(this.modalInfo.message)+"\n  ")])])],1)};Ee._withStripped=!0;var He={components:{Modal:re},props:{modalInfo:{type:Object,default:{}},Data:{type:Object}},created:function(){},methods:{onCloseBtnClickHandler:function(e){w.play("cancel"),this.$store.dispatch("showCommonModalAction",{value:{},isOpen:!1})}}},Le=Object(p.a)(He,Ee,[],!1,null,null,null);Le.options.__file="src/components/webview_mission/modal/ModalCommon.vue";var We=Le.exports,qe=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cache_data-area"},[this._l(this.imageManifest,function(e){return t("img",{key:e,style:"background-image: url("+e+"); border-image-source: url("+e+")",attrs:{src:e}})}),this._v(" "),t("div",{staticClass:"font-area"},[this._v("0123456789abcdefghijklmnopqrstuvwxygABCDEFGHIJKLMNOPQRSTUVWXYZ!#$%&().,?"+this._s(this.text))]),this._v(" "),this._t("default")],2)};function ze(e,t,n,a,i,s,r){try{var o=e[s](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,i)}function Fe(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var s=e.apply(t,n);function r(e){ze(s,a,i,r,o,"next",e)}function o(e){ze(s,a,i,r,o,"throw",e)}r(void 0)})}}qe._withStripped=!0;var Ge={props:{imageManifest:{type:Array,default:[]}},data:function(){return{text:""}},methods:{preload:function(){var e=this;return Fe(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.$props.imageManifest.map(function(){var e=Fe(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.f)(t);case 2:case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())).catch(function(t){return e.$emit("loadError"),t});case 2:e.$emit("preloaded");case 3:case"end":return t.stop()}},t)}))()},addPreFont:function(e){this.$data.text+=e}}},Ve=Object(p.a)(Ge,qe,[],!1,null,null,null);function Je(e,t,n,a,i,s,r){try{var o=e[s](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,i)}function Qe(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var s=e.apply(t,n);function r(e){Je(s,a,i,r,o,"next",e)}function o(e){Je(s,a,i,r,o,"throw",e)}r(void 0)})}}function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach(function(t){Xe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ve.options.__file="src/components/common/CacheDataArea.vue";var Ze={components:{PanelStage:k,PanelUi:R,PanelContent:te,ModalCommon:We,ModalPanelDetail:ue,ModalQuiz:be,ModalGuide:Ae,ModalError:ke,ModalReward:Se,ModalCompleteReward:Re,Toast:he,CacheDataArea:Ve.exports,CommonButton:b},computed:Ye(Ye({},Object(o.c)(["currentPage","isShowPanelDetailModal","modalInfo","toastInfo","webviewMissionData","isShowCommonModal","isShowQuizModal","isShowGuideModal","isShowErrorModal","isShowRewardModal","isOpenCompleteModal","completeRewardData","isShowToast","isShowModal","isPlayCardAlignAnim","isPlayPanelAnimNum","isPlayingAnimPanelFlavorText"])),Object(o.b)(["getCurrentPageData"])),data:function(){return{isComplete:!1,pagesData:[],missionData:{},imageManifest:["/images/common/panel_mission/panel/panel_flame.png","/images/common/panel_mission/panel/panel_pattern.png","/images/common/panel_mission/panel/panel_light_01.png","/images/common/panel_mission/background/parts_textbox_base.png"],audioManifest:[{name:"cancel",path:"/audio/se_ui_common_cancel.wav"},{name:"ok",path:"/audio/se_ui_common_ok.wav"},{name:"appear",path:"/audio/se_ui_common_appear.wav"},{name:"receive",path:"/audio/se_ui_common_receive.wav"},{name:"lock",path:"/audio/se_ui_common_unlockpopup.wav"},{name:"panelopen",path:"/audio/se_ui_panel_panelopen.wav"},{name:"quizcorrect",path:"/audio/se_ui_panel_quizcorrect.wav"},{name:"quizincorrect",path:"/audio/se_ui_panel_quizincorrect.wav"}]}},mounted:function(){var e=this;return Qe(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return document.querySelectorAll("meta").forEach(function(e){if("viewport"==e.getAttribute("name")){var t=e.getAttribute("content");-1==t.indexOf("viewport-fit=cover")&&e.setAttribute("content",t+",viewport-fit=cover")}}),t.next=4,e.$refs.cacheData.preload();case 4:return w.setVolume(e.$route.query.seVolume?Number(e.$route.query.seVolume):.1),w.getVolume()>0&&w.setAudio(e.$data.audioManifest,w.getVolume()),t.next=9,e.getJson(e.$route.params.missionId).then(function(t){if(e.$data.missionData=t.data.data,e.$data.pagesData=e.$data.missionData.pages,e.$store.dispatch("setWebviewMissionData",e.$data.missionData),!e.$data.missionData.isAllComplete){var n=e.$data.missionData.pages.filter(function(e){return e.isComplete}).length+1;e.$store.dispatch("updateCurrentPage",n)}var a=e.$refs.cacheData.addPreFont;return a("問題回答挑戦詳細報酬受け取り閉じるはギフトに送られました※。、・上記アイテムを獲得しました!エラーミッション遊び方条件不正解"),e.$data.pagesData.forEach(function(e){e.panels.forEach(function(e){e.compFlavorText&&a(e.compFlavorText),a(e.title+e.longTitle+e.flavorText),e.conditions&&e.conditions.forEach(function(e){a(e)}),e.lockText&&a(e.lockText)})}),e.$data.missionData}).then(function(){var t=Qe(regeneratorRuntime.mark(function t(n){var a,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.pages.filter(function(e){return e.isComplete}).length,!(i=n.pages[a])){t.next=12;break}if(!i.isComplete){t.next=10;break}return s="".concat(Object(c.c)(e.$store.state,e.$route,1)).concat(i.imageFileName),t.next=8,Object(c.f)(s);case 8:t.next=12;break;case 10:return t.next=12,Promise.all(i.bgParts.map(function(){var t=Qe(regeneratorRuntime.mark(function t(n){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(Object(c.c)(e.$store.state,e.$route)).concat(n.imagePath),t.next=3,Object(c.f)(a);case 3:case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 12:return t.abrupt("return",n);case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).then(function(){var t=Qe(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.showPanel(),t.abrupt("return",n);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.showPanel()});case 9:case"end":return t.stop()}},t)}))()},methods:{getJson:function(e){var t=this;return Qe(regeneratorRuntime.mark(function n(){var a,i,r,o,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!t.$route.query.serverAddress){n.next=12;break}return(a=P.a.createCommonRequest(t)).webviewMissionId=e,i=P.a.createHeader(),r=P.a.getDomain(t),n.next=8,s.a.post(r+y.a.PANEL_MISSION_API,JSON.stringify(a),{headers:i});case 8:return o=n.sent,n.abrupt("return",o);case 12:n.next=17;break;case 15:return l=n.sent,n.abrupt("return",l);case 17:n.next=23;break;case 19:n.prev=19,n.t0=n.catch(0),t.$store.dispatch("errorModalAction",{value:{error:n.t0,message:"get panel mission error"},isOpen:!0});case 23:case"end":return n.stop()}},n,null,[[0,19]])}))()},showPanel:function(){Object(c.i)(this.$refs.panelMissionWrapper,16,9),this.$refs.panelMissionRoot.addEventListener("transitionend",function(){}),this.$refs.panelMissionRoot.classList.add("is-open")},isPreventOn:function(){return-1!=this.isPlayPanelAnimNum||this.isPlayCardAlignAnim||this.isShowModal||this.isPlayingAnimPanelFlavorText}}},Ke=Object(p.a)(Ze,a,[],!1,null,null,null);Ke.options.__file="src/components/webview_mission/panel_mission/PanelMission.vue";t.default=Ke.exports}}]);